# 通用对象

简单来说就是，我试着在这里定义一些被认为是「无论如何都会在游戏中出现的对象」。

但是这些对象应该都是较为抽象的，可以通过脚本来定义基本属性和行为的。

这也就意味着，我或许需要再定义一些属性，甚至是定义抽象的属性，并使其可以被脚本定义和描述。

或者说，真正的问题是，作为一个游戏引擎，什么部分是该我来做的，什么部分该留给用户？

## 总而言之

我经过几分钟的思考之后认为，我现在无权决定什么给我，什么给别人，毕竟的毕竟，这个引擎多半会是个开源玩意，也就是说，你想怎么改都可以不是吗？

此外，由于 Python 本身也是动态加载的，那直接给 Python 代码也完全可以吧，反正可以视为脚本语言。

## 通用对象是什么

那么我想明白了，目前来说，我要做的就是，划分游戏中的 资源、元类、动态定义的类和这些动态定义的类的实例 各自需要什么属性，需要做什么。

## 目前的设计

以我浅薄的姿势来说，我能确定的是这些：

- 实例 肯定需要 对象 id
- 动态定义的类需要能够有检索自己所有实例的方法
- 元类除了用来定义类以外，恐怕就是检索所有定义出来的类的方法了吧...？

## 公有属性

在这里讨论一些被认为是任何一个 `MerveilleObject` 都肯定具备的东西。

### `describe()`

`describe()` 方法的功能就是让一个物体描述自己，返回一个结构性的数据，然后交给 `render()` 来形成一段描写该物体的字符串。

- 元类必须使得 `describe()` 方法能够正确返回任何新定义的子类的新属性，至少是能够返回某种命名约定的属性。
- `MerveilleObject` 类目前看来可以分为多个种类。
    - 区域类的 `describe` 应该会将它内部的物件都 `describe` 一遍。
    - 单位类的 `describe` 则用于描述自身的情况，尽管我在想如何让它们更好地融入环境中。
    - 路径类的 `describe` 除了简单描述这条路以外，还需要表现出一定的方向性，比如朝向这条路时角色能和不能看到哪些景物。
- 所有的 `describe` 的结果都应该交给 `render` 类来进行渲染，将它们组织成一段字符串描述。
    - `describe` 应当返回些什么东西还需要进一步探讨。
    - `render` 应当可以处理任意一种 `MerveilleObject` 的 `describe()`。

